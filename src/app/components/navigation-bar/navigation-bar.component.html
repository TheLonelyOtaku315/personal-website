<nav id="sidebar">
  <div class="logo-container">
    <img
      src="https://thelonelyotaku315.github.io/personal-website/assets/img/logo.png"
      alt="logo"
      class="logo"
    />
    <div class="brand-text">Portfolio</div>
  </div>
  <hr class="sidebar-separator" />
  <ul>
    <li data-section="welcome">
      <a (click)="scrollToSection('welcome', $event)" style="cursor: pointer">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          viewBox="0 -960 960 960"
          width="24px"
          fill="#e8eaed"
        >
          <path
            d="M240-200h120v-200q0-17 11.5-28.5T400-440h160q17 0 28.5 11.5T600-400v200h120v-360L480-740 240-560v360Zm-80 0v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H560q-17 0-28.5-11.5T520-160v-200h-80v200q0 17-11.5 28.5T400-120H240q-33 0-56.5-23.5T160-200Zm320-270Z"
          />
        </svg>
        <span>Home</span>
      </a>
    </li>
    <li data-section="about_me">
      <a (click)="scrollToSection('about_me', $event)" style="cursor: pointer">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          viewBox="0 -960 960 960"
          width="24px"
          fill="#e8eaed"
        >
          <path
            d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-240v-32q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v32q0 33-23.5 56.5T720-160H240q-33 0-56.5-23.5T160-240Zm80 0h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"
          />
        </svg>
        <span>About</span>
      </a>
    </li>
    <li data-section="project">
      <a (click)="scrollToSection('project', $event)" style="cursor: pointer">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          viewBox="0 -960 960 960"
          width="24px"
          fill="#e8eaed"
        >
          <path
            d="M120-480v-320q0-17 11.5-28.5T160-840h240q17 0 28.5 11.5T440-800v320q0 17-11.5 28.5T400-440H160q-17 0-28.5-11.5T120-480Zm400 320v-320q0-17 11.5-28.5T560-520h240q17 0 28.5 11.5T840-480v320q0 17-11.5 28.5T800-120H560q-17 0-28.5-11.5T520-160Zm-400 0v-160q0-17 11.5-28.5T160-360h240q17 0 28.5 11.5T440-320v160q0 17-11.5 28.5T400-120H160q-17 0-28.5-11.5T120-160Zm80-360h160v-240H200v240Zm400 320h160v-240H600v240Z"
          />
        </svg>
        <span>Projects</span>
      </a>
    </li>
    <li data-section="contact">
      <a (click)="scrollToSection('contact', $event)" style="cursor: pointer">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          viewBox="0 -960 960 960"
          width="24px"
          fill="#e8eaed"
        >
          <path
            d="M120-160q-33 0-56.5-23.5T40-240v-480q0-33 23.5-56.5T120-800h720q33 0 56.5 23.5T920-720v480q0 33-23.5 56.5T840-160H120Zm360-320L120-720v480h720v-480L480-480Zm0 80 360-240H120l360 240Z"
          />
        </svg>
        <span>Contact</span>
      </a>
    </li>
  </ul>
  <div class="sidebar-bottom">
    <hr class="sidebar-separator" />
    <button
      *ngFor="let button of sidebarButtons"
      (click)="executeButtonAction(button)"
      [class]="button.cssClass"
      [title]="
        button.id === 'language-toggle'
          ? 'Switch to next language (' + getNextLanguageName() + ')'
          : undefined
      "
    >
      <!-- Regular icon (no conditional display) -->
      <svg
        *ngIf="!button.icon.conditionalDisplay"
        xmlns="http://www.w3.org/2000/svg"
        height="24px"
        [attr.viewBox]="button.icon.viewBox"
        width="24px"
        fill="#e8eaed"
      >
        <path [attr.d]="button.icon.path" />
      </svg>

      <!-- Conditional icon display (like theme toggle) -->
      <ng-container *ngIf="button.icon.conditionalDisplay">
        <!-- Light mode icon -->
        <svg
          *ngIf="button.id === 'theme-toggle' && currentThemeMode === 'light'"
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          [attr.viewBox]="button.icon.conditionalDisplay.trueIcon?.viewBox"
          width="24px"
          fill="#e8eaed"
        >
          <path [attr.d]="button.icon.conditionalDisplay.trueIcon?.path" />
        </svg>
        <!-- Dark mode icon -->
        <svg
          *ngIf="button.id === 'theme-toggle' && currentThemeMode === 'dark'"
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          [attr.viewBox]="button.icon.conditionalDisplay.falseIcon?.viewBox"
          width="24px"
          fill="#e8eaed"
        >
          <path [attr.d]="button.icon.conditionalDisplay.falseIcon?.path" />
        </svg>
        <!-- Browser mode icon -->
        <svg
          *ngIf="button.id === 'theme-toggle' && currentThemeMode === 'auto'"
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          [attr.viewBox]="button.icon.conditionalDisplay.autoIcon?.viewBox"
          width="24px"
          fill="#e8eaed"
        >
          <path [attr.d]="button.icon.conditionalDisplay.autoIcon?.path" />
        </svg>
      </ng-container>

      <!-- Content display -->
      <div
        *ngIf="button.content?.type === 'language-info'"
        class="language-info"
      >
        <span class="language-code">{{ currentLanguage }}</span>
        <span class="language-name">{{ languageNames[currentLanguage] }}</span>
      </div>
      <span *ngIf="button.content?.type === 'text'">{{
        getThemeDisplayText()
      }}</span>
    </button>
  </div>
</nav>
